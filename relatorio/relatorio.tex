%-----------------------------------------------------------------------
%
%   UFRJ  - Universidade Federal do Rio de Janeiro
%   COPPE - Coordenação dos Programas de Pós-graduação em Engenharia
%   PEE   - Programa de Engenharia Elétrica
%
%   COE-835  Controle adaptativo
%
%   Relatório da simulação
%                                                         Ramon R. Costa
%                                                         05/out/09, Rio
%-----------------------------------------------------------------------
\documentclass[11pt,a4paper]{article}
\usepackage[latin1]{inputenc} %pacote para utilizar palavras acentuadas
\usepackage{amsmath,amssymb}  %pacotes do AMS
\usepackage{latexsym}         %pacote para incluir símbolos (ex.\Box)
\usepackage{fancybox,fancyhdr}%pacote com frescuras
\usepackage{graphicx}         %pacote para incluir figuras tipo eps
\usepackage[portuguese]{babel}
\usepackage{xcolor}
\usepackage{float}
\usepackage[a4paper]{hyperref}% Make sure it comes last of your loaded packages
\hypersetup{
  verbose,
  plainpages=false,
  bookmarks=true,
  colorlinks=true,
  linkcolor=blue
}

\input{macros}

\begin{document}
%---------------------------------------------------------------------
\pagestyle{fancy}%
\renewcommand{\headrulewidth}  {0.4pt}%
\renewcommand{\footrulewidth}  {0.4pt}%
\lhead{\bfseries{Relatório das simulações}}%
\chead{}%
\rhead{\bfseries\thepage}%
\lfoot{}%
\cfoot{}%
\rfoot{[\hours] \quad \today}%
%---------------------------------------------------------------------
\begin{center}
  \huge{COE-835  Controle  adaptativo}  \\[20mm]

  \Large{Simulações do Trabalho 1} \\[20mm]
\end{center}


Algoritmo: \quad \HI{Gradiente normalizado}

\bigskip%
Caso: \quad \parbox[t]{10cm}{
  $~n = 1$ \quad (ordem da planta) \\[2mm]
  $n^* = 1$ \quad (grau relativo) \\[2mm]
  $n_p = 1$ \quad (\# de parâmetros) \\[20mm]
}

%---------------------------------------------------------------------

\tableofcontents

\newpage%
%---------------------------------------------------------------------
\section{Resumo das equações do sistema simulado}

\equacao{Planta}
  {\dot{y}_p = a_p y_p + u}

\equacao{Modelo}
  {\dot{y}_m = -a_m y_m + r}

\equacao{Erro de saída}
  {e_0 = y_p - y_m}

\equacao{Lei de controle}
  {u = \theta y_p + r}

\equacao{Filtro}
  {\dot{\zeta} + a_m \, \zeta = y_p}

\equacao{Estimativa do erro}
  {\hat{e} = \frac{1}{s+a_m}\,[\theta y_p] - \theta\zeta}

\equacao{Erro de estimativa}
  {\varepsilon = e_0 - \hat{e}}

\equacao{Sinal normalizante}
  {(i) \, m^2 = 1 + \zeta^2 \text{\,\,\,ou\,\,\,}(ii) \, m^2 = 1 + \zeta^2 + \dot{\zeta}^2 }

\equacao{Lei de adaptação}
  {\dot{\theta} = - \frac{\gamma \varepsilon \zeta}{m^2}}

%---------------------------------------------------------------------
\section{Prova da limitação de $\dot{\varepsilon}/m$}

A seguinte candidata à função de Lyapunov é proposta 
$$2V(\tilde{\theta}) = \gamma^{-1} \, \tilde{\theta}^2 \ge 0$$

%---------------------------------------------------------------------
\section{Diagramas de blocos}

\begin{figure}[H]
  \centering
  \includegraphics[width=14cm]{figs/MRAC-111.eps}
  \caption{Diagrama de blocos do sistema. \quad
  (Model: \HI{\texttt{MRAC-111.mdl}}) }
\end{figure}

%---------------------------------------------------------------------
\bigskip%
\begin{figure}[H]
  \centering
  \includegraphics[scale=0.8]{figs/plant.eps}
  \caption{Diagrama de blocos da planta.}
\end{figure}

%---------------------------------------------------------------------
\bigskip%
\begin{figure}[H]
  \centering
  \includegraphics[scale=0.8]{figs/reference-model.eps}
  \caption{Diagrama de blocos do modelo de referência.}
\end{figure}

%---------------------------------------------------------------------
\bigskip%
\begin{figure}[H]
  \centering
  \includegraphics[scale=0.8]{figs/reference-signal.eps}
  \caption{Diagrama de blocos do gerador de sinais de referência.}
\end{figure}

%---------------------------------------------------------------------
\bigskip%
\begin{figure}[H]
  \centering
  \includegraphics[width=16cm]{figs/adaptation.eps}
  \caption{Diagrama de blocos da lei de adaptação.}
\end{figure}

\newpage%
%---------------------------------------------------------------------
\section{Resultados das simulações}

Simulação utilizando \HI{\texttt{Matlab/Simulink}}.

\subsection{Simulação \#1}

\bigskip%
Parâmetros e condições iniciais  :
%
\begin{align*}
  a_p &= -2\,,  &  y_p(0) &= 0\,, & \theta(0) &= 0\,, \\
  a_m &= 1\,,   &  y_m(0) &= 0\,, & \gamma &= 10,\ 100\,, \\
  r &= 1\,.
\end{align*}

\bigskip%
\begin{figure}[H]
  \centering
  \includegraphics[width=12cm]{figs/fig01d.eps} \\[2mm]
  \caption{Diagrama $e_0 \times \tilde{\theta}$.
  \hfill (Script: \HI{\tt simu01.m}) }
\end{figure}

\newpage%
%---------------------------------------------------------------------
\begin{figure}[H]
  \centering
  \includegraphics[width=12cm]{figs/fig01c.eps} \\[2mm]
  \includegraphics[width=12cm]{figs/fig01a.eps} \\[2mm]
  \includegraphics[width=12cm]{figs/fig01b.eps} \\[2mm]
  \includegraphics[width=12cm]{figs/fig01e.eps} \\[2mm]
  \caption{Resultado da simulação com algoritmo Gradiente normalizado.
  \hfill (Script: \HI{\tt simu01.m}) }
\end{figure}


\newpage%
%---------------------------------------------------------------------
\subsection{Simulação \#2}

\bigskip%
Parâmetros e condições iniciais  :
%
\begin{align*}
  a_p &= -2\,,  &  y_p(0) &= \HI{2}\,, & \theta(0) &= 0\,, \\
  a_m &= 1\,,   &  y_m(0) &= 0\,, & \gamma &= 2,\ 100\,, \\
  r &= 1\,.
\end{align*}

\bigskip%
\begin{figure}[H]
  \centering
  \includegraphics[width=12cm]{figs/fig02d.eps} \\[2mm]
  \caption{Diagrama $e_0 \times \tilde{\theta}$.
  \hfill (Script: \HI{\tt simu02.m}) }
\end{figure}

\newpage%
%---------------------------------------------------------------------
\begin{figure}[H]
  \centering
  \includegraphics[width=12cm]{figs/fig02c.eps} \\[2mm]
  \includegraphics[width=12cm]{figs/fig02a.eps} \\[2mm]
  \includegraphics[width=12cm]{figs/fig02b.eps} \\[2mm]
  \includegraphics[width=12cm]{figs/fig02e.eps} \\[2mm]
  \caption{Resultado da simulação com algoritmo Gradiente normalizado.
  \hfill (Script: \HI{\tt simu02.m}) }
\end{figure}

\newpage%
%---------------------------------------------------------------------
\subsection{Simulação \#3}

\bigskip%
Parâmetros e condições iniciais  :
%
\begin{align*}
  a_p &= -2\,,  &  y_p(0) &= \HI{10}\,, & \theta(0) &= 0\,, \\
  a_m &= 1\,,   &  y_m(0) &= 0\,, & \gamma &= 2,\ 100\,, \\
  r &= 1\,.
\end{align*}

\bigskip%
\begin{figure}[H]
  \centering
  \includegraphics[width=12cm]{figs/fig03d.eps} \\[2mm]
  \caption{Diagrama $e_0 \times \tilde{\theta}$.
  \hfill (Script: \HI{\tt simu03.m}) }
\end{figure}

\newpage%
%---------------------------------------------------------------------
\begin{figure}[H]
  \centering
  \includegraphics[width=12cm]{figs/fig03c.eps} \\[2mm]
  \includegraphics[width=12cm]{figs/fig03a.eps} \\[2mm]
  \includegraphics[width=12cm]{figs/fig03b.eps} \\[2mm]
  \includegraphics[width=12cm]{figs/fig03e.eps} \\[2mm]
  \caption{Resultado da simulação com algoritmo Gradiente normalizado.
  \hfill (Script: \HI{\tt simu03.m}) }
\end{figure}


%---------------------------------------------------------------------
%\bibliographystyle{agsm}
%\bibliography{bib,coe736}

%---------------------------------------------------------------------
\end{document}
